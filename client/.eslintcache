[{"/Users/ahaloua/Desktop/MatchoPitcho/client/src/index.js":"1","/Users/ahaloua/Desktop/MatchoPitcho/client/src/App.js":"2","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/Home.js":"3","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/auth.jsx":"4","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/account.jsx":"5","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/logForm.jsx":"6","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/forgetForm.jsx":"7","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/regFrom.jsx":"8","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editSec.jsx":"9","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editPrefs.jsx":"10","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editInfos.jsx":"11","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Contexts/authContext.jsx":"12","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editPics.jsx":"13","/Users/ahaloua/Desktop/MatchoPitcho/client/src/routes/privateRoute.jsx":"14","/Users/ahaloua/Desktop/MatchoPitcho/client/src/routes/protectedRoute.jsx":"15","/Users/ahaloua/Desktop/MatchoPitcho/client/src/helpers/useForm.js":"16","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/extra/streetMap.jsx":"17","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateRegister.js":"18","/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/Navbar.js":"19","/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/myFooter.jsx":"20","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/stepForm.jsx":"21","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateLogin.js":"22","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateEdit.js":"23","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateSteps.js":"24","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validatePrefs.js":"25","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateEditSec.js":"26","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/init.jsx":"27","/Users/ahaloua/Desktop/MatchoPitcho/client/src/routes/privilegesRoute.jsx":"28","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/profile.jsx":"29","/Users/ahaloua/Desktop/MatchoPitcho/client/src/helpers/helpers.js":"30","/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/profileRating.jsx":"31","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/extra/Slider.jsx":"32","/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/imgComp.jsx":"33","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/browse.jsx":"34","/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/rangSlider.jsx":"35","/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/spinner.jsx":"36","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/confirm.jsx":"37","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateForget.js":"38","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/resetPass.jsx":"39","/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateResetAcc.js":"40","/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/controlledRating.jsx":"41","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/messages.jsx":"42","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/notifications.jsx":"43"},{"size":405,"mtime":1614955895000,"results":"44","hashOfConfig":"45"},{"size":1622,"mtime":1616667937000,"results":"46","hashOfConfig":"45"},{"size":1559,"mtime":1614703062000,"results":"47","hashOfConfig":"45"},{"size":1514,"mtime":1615633243000,"results":"48","hashOfConfig":"45"},{"size":1406,"mtime":1614615128000,"results":"49","hashOfConfig":"45"},{"size":3700,"mtime":1616508786000,"results":"50","hashOfConfig":"45"},{"size":1903,"mtime":1615887264000,"results":"51","hashOfConfig":"45"},{"size":3790,"mtime":1615366749000,"results":"52","hashOfConfig":"45"},{"size":3399,"mtime":1615890493000,"results":"53","hashOfConfig":"45"},{"size":4611,"mtime":1616082742000,"results":"54","hashOfConfig":"45"},{"size":6571,"mtime":1616086204000,"results":"55","hashOfConfig":"45"},{"size":1702,"mtime":1616602252000,"results":"56","hashOfConfig":"45"},{"size":5290,"mtime":1615890584000,"results":"57","hashOfConfig":"45"},{"size":707,"mtime":1616604293000,"results":"58","hashOfConfig":"45"},{"size":551,"mtime":1616602283000,"results":"59","hashOfConfig":"45"},{"size":576,"mtime":1616073670000,"results":"60","hashOfConfig":"45"},{"size":1302,"mtime":1615981600000,"results":"61","hashOfConfig":"45"},{"size":2355,"mtime":1615645043000,"results":"62","hashOfConfig":"45"},{"size":6336,"mtime":1616668079000,"results":"63","hashOfConfig":"45"},{"size":321,"mtime":1614266496000,"results":"64","hashOfConfig":"45"},{"size":7760,"mtime":1616078838000,"results":"65","hashOfConfig":"45"},{"size":969,"mtime":1615458614000,"results":"66","hashOfConfig":"45"},{"size":2421,"mtime":1616073700000,"results":"67","hashOfConfig":"45"},{"size":1110,"mtime":1615889709000,"results":"68","hashOfConfig":"45"},{"size":199,"mtime":1614347555000,"results":"69","hashOfConfig":"45"},{"size":1823,"mtime":1615635081000,"results":"70","hashOfConfig":"45"},{"size":1016,"mtime":1614952803000,"results":"71","hashOfConfig":"45"},{"size":807,"mtime":1616604291000,"results":"72","hashOfConfig":"45"},{"size":10129,"mtime":1616689690000,"results":"73","hashOfConfig":"45"},{"size":2618,"mtime":1616687287000,"results":"74","hashOfConfig":"45"},{"size":604,"mtime":1615548295000,"results":"75","hashOfConfig":"45"},{"size":1346,"mtime":1615547124000,"results":"76","hashOfConfig":"45"},{"size":110,"mtime":1615023065000,"results":"77","hashOfConfig":"45"},{"size":7678,"mtime":1616587473000,"results":"78","hashOfConfig":"45"},{"size":709,"mtime":1616147366000,"results":"79","hashOfConfig":"45"},{"size":486,"mtime":1615398506000,"results":"80","hashOfConfig":"81"},{"size":1226,"mtime":1616074398000,"results":"82","hashOfConfig":"45"},{"size":373,"mtime":1615558784000,"results":"83","hashOfConfig":"45"},{"size":2973,"mtime":1615737348000,"results":"84","hashOfConfig":"45"},{"size":1355,"mtime":1615635110000,"results":"85","hashOfConfig":"45"},{"size":631,"mtime":1615906711000,"results":"86","hashOfConfig":"45"},{"size":6560,"mtime":1616690704000,"results":"87","hashOfConfig":"45"},{"size":3338,"mtime":1616683369000,"results":"88","hashOfConfig":"45"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},"uzwv0e",{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"148","usedDeprecatedRules":"91"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yzl2e7",{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"175"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"91"},"/Users/ahaloua/Desktop/MatchoPitcho/client/src/index.js",[],["179","180"],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/App.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/Home.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/auth.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/account.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/logForm.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/forgetForm.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/regFrom.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editSec.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editPrefs.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editInfos.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Contexts/authContext.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/editPics.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/routes/privateRoute.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/routes/protectedRoute.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/helpers/useForm.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/extra/streetMap.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateRegister.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/Navbar.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/myFooter.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/account/stepForm.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateLogin.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateEdit.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateSteps.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validatePrefs.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateEditSec.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/init.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/routes/privilegesRoute.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/profile.jsx",["181","182","183","184","185"],"import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { capitalizeFirstLetter, getInstance } from '../helpers/helpers';\nimport HalfRating from '../assets/profileRating';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart, faFlag, faUserTimes } from '@fortawesome/free-solid-svg-icons';\nimport SimpleSlider from '../Inc/extra/Slider';\nimport { AuthContexts, socket, IsLoggedfn } from '../Contexts/authContext';\nimport { getAge } from '../helpers/helpers';\nimport Moment from 'react-moment';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\n\nasync function getData(strname, token) {\n\tconst response = await getInstance(token).post('http://localhost:5000/profileUserInfos/userInfos', {\n\t\tuserNameLokingFor: strname\n\t});\n\treturn response;\n}\n\nconst isLogged = !!localStorage.getItem('token');\n\nfunction Profile() {\n\tconst [isLiked, setIsLiked] = useState(0);\n\tconst { username } = useParams();\n\tconst { auth } = useContext(AuthContexts);\n\tconst { token, loggedUser } = auth;\n\tconst [userStatus, setUserStatus] = useState(false);\n\tconst [lastSeen, setLastSeen] = useState('');\n\t// console.log(loggedUser);\n\tconst history = useHistory();\n\n\tconst [data, setData] = useState({\n\t\tbiography: '',\n\t\tbirthday: '',\n\t\tblocked: '',\n\t\tfameRating: '',\n\t\tfirstName: '',\n\t\tgender: '',\n\t\timgOne: '',\n\t\timgTwo: '',\n\t\timgThree: '',\n\t\timgFour: '',\n\t\tlastName: '',\n\t\tliked: '',\n\t\tprofileImg: '',\n\t\treported: '',\n\t\tsexualPreference: '',\n\t\ttags: [],\n\t\tuserName: '',\n\t\tcountry: '',\n\t\tlast_seen: ''\n\t});\n\n\tuseEffect(() => {\n\t\tconst data = async () => {\n\t\t\tconst {\n\t\t\t\tdata: { allUserInfos, status }\n\t\t\t} = await getData(username, token);\n\t\t\tif (status === 0 && allUserInfos.imBlocked === 0 && allUserInfos.blocked === 0) {\n\t\t\t\tif (loggedUser !== username) {\n\t\t\t\t\tsocket.emit('OnlineUser', username);\n\t\t\t\t\t/**\n\t\t\t\t\t * sift l back end bach i9iyed had l visit f notification\n\t\t\t\t\t */\n\t\t\t\t\tconst res = getInstance(token).post('http://localhost:5000/setNotifications/messages', {\n\t\t\t\t\t\tto: username,\n\t\t\t\t\t\ttype: 5\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconsole.log(allUserInfos);\n\t\t\t\tconst keys = Object.keys(allUserInfos);\n\t\t\t\tkeys.forEach(el => {\n\t\t\t\t\tif (el === 'birthday') {\n\t\t\t\t\t\tconst age = getAge(allUserInfos[el]);\n\t\t\t\t\t\tsetData(oldData => ({ ...oldData, [el]: age }));\n\t\t\t\t\t} else if (el === 'sexualPreference' && allUserInfos[el] === 'bi') {\n\t\t\t\t\t\tsetData(oldData => ({ ...oldData, [el]: 'bisexual' }));\n\t\t\t\t\t} else if (el === 'liked') {\n\t\t\t\t\t\t// console.log('mebenz >> ', allUserInfos[el]);\n\t\t\t\t\t\tsetIsLiked(allUserInfos[el]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetData(oldData => ({ ...oldData, [el]: allUserInfos[el] }));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\thistory.push('/account');\n\t\t\t}\n\t\t};\n\t\tdata();\n\t\tsocket.on('usersIsOnline', function (data) {\n\t\t\tif (data === username) {\n\t\t\t\tsetUserStatus(true);\n\t\t\t\tconsole.log('usersIsOnline', data);\n\t\t\t}\n\t\t});\n\t\tsocket.on('usersIsOffline', function (data) {\n\t\t\tif (data === username) {\n\t\t\t\tsetUserStatus(false);\n\t\t\t\t// set time on DB\n\t\t\t\t// axios\n\t\t\t\tconsole.log('usersIsOffline', data);\n\t\t\t}\n\t\t});\n\t\tconsole.log('use Run :)');\n\t}, [username, token, history]);\n\n\t/**\n\t * please try to standrize the back-ends calls\n\t * for all Actions {handleLike }\n\t */\n\n\tasync function handleLike() {\n\t\tconsole.log('like Clicked');\n\t\tconst instance = axios.create({\n\t\t\theaders: { Authorization: `Bearer ${token}` }\n\t\t});\n\t\tconst res = await instance.post('http://localhost:5000/likeEndPoint/like', {\n\t\t\tuserName: data.userName\n\t\t});\n\t\tif (res.data.status === 0) {\n\t\t\t/**\n\t\t\t * send like notification\n\t\t\t */\n\t\t\tsocket.emit('like', data.userName);\n\t\t\tsetIsLiked(oldStatus => !oldStatus);\n\t\t\tif (!!!isLiked) {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: 'YAAAAAP!',\n\t\t\t\t\ttext: `You liked this profile!`,\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tconfirmButtonText: 'close'\n\t\t\t\t});\n\t\t\t\tsetData(oldVals => ({ ...oldVals, fameRating: data.fameRating + 0.1 }));\n\t\t\t} else {\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: 'OUUUUUUCH!',\n\t\t\t\t\ttext: `You Dislike this profile!`,\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tconfirmButtonText: 'close'\n\t\t\t\t});\n\t\t\t\tsetData(oldVals => ({ ...oldVals, fameRating: data.fameRating - 0.1 }));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * remove clgs :)\n\t */\n\tfunction handleReport() {\n\t\tconsole.log('report clicked');\n\t\tSwal.fire({\n\t\t\ttitle: 'Are you sure?',\n\t\t\ttext: 'Report as Fake account ?',\n\t\t\ticon: 'question',\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: `Report`\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst instance = axios.create({\n\t\t\t\t\theaders: { Authorization: `Bearer ${token}` }\n\t\t\t\t});\n\t\t\t\tconst res = await instance.post('http://localhost:5000/reportEndPoint/report', {\n\t\t\t\t\tuserName: data.userName\n\t\t\t\t});\n\t\t\t\tif (res.data.status) {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: 'OUUUUUUCH!',\n\t\t\t\t\t\ttext: res.data.errors,\n\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\tconfirmButtonText: 'close'\n\t\t\t\t\t});\n\t\t\t\t\t// Swal.fire(res.data.errors, '', 'warning');\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: 'YAAAAAP!',\n\t\t\t\t\t\ttext: `Account has been reported!`,\n\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\tconfirmButtonText: 'close'\n\t\t\t\t\t});\n\t\t\t\t\tsetData(oldVals => ({ ...oldVals, fameRating: data.fameRating - 0.1 }));\n\t\t\t\t}\n\n\t\t\t\t// if response is 0 {no errors}\n\t\t\t\t// swal succes\n\t\t\t\t// if response is1 {error}\n\t\t\t\t// show the error and 1005 it gonna be that you are already reported this account before :)\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction handleBlock() {\n\t\tconsole.log('Block Clicked');\n\t\tSwal.fire({\n\t\t\ttitle: 'Are you sure?',\n\t\t\ttext: 'Block this account ?',\n\t\t\ticon: 'question',\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: `Block`\n\t\t}).then(async ({ isConfirmed }) => {\n\t\t\tif (isConfirmed) {\n\t\t\t\tconst instance = axios.create({\n\t\t\t\t\theaders: { Authorization: `Bearer ${token}` }\n\t\t\t\t});\n\t\t\t\tconst res = await instance.post('http://localhost:5000/blockEndPoint/block', {\n\t\t\t\t\tuserName: data.userName\n\t\t\t\t});\n\t\t\t\t// normaly if the user is blocke we are not gonna be generating this page\n\t\t\t\t// but we gonna treat it like the \"Like\" action\n\t\t\t\tif (res.data.status) {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: 'OUUUUUUCH!',\n\t\t\t\t\t\ttext: res.data.errors,\n\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\tconfirmButtonText: 'close'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: 'YAAAAAP!',\n\t\t\t\t\t\ttext: `Account has been blocked!`,\n\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\tconfirmButtonText: 'close'\n\t\t\t\t\t});\n\t\t\t\t\t// a way to refresh the page\n\t\t\t\t\t// history.go(0);\n\t\t\t\t\thistory.replace('/account');\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tif (!data.userName) return null;\n\treturn (\n\t\t<div className='profile__container'>\n\t\t\t<div className='profile__wrapper'>\n\t\t\t\t<section className='profile__content'>\n\t\t\t\t\t<section className='profile__nav'>\n\t\t\t\t\t\t<div className='profile__rating'>\n\t\t\t\t\t\t\t<HalfRating fameRating={data.fameRating && data.fameRating.toFixed(1)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{loggedUser !== data.userName && (\n\t\t\t\t\t\t\t<div className='profile__actions'>\n\t\t\t\t\t\t\t\t{/**must be conditional if this is the logged user or an other user */}\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faHeart}\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\tclassName={isLiked ? 'clickable isLiked' : 'clickable'}\n\t\t\t\t\t\t\t\t\tonClick={() => (isLogged ? handleLike() : history.go())}\n\t\t\t\t\t\t\t\t\tstyle={{ color: '#ccc', width: 20, height: 20 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faFlag}\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\tclassName='clickable'\n\t\t\t\t\t\t\t\t\tonClick={() => (isLogged ? handleReport() : history.go())}\n\t\t\t\t\t\t\t\t\tstyle={{ color: '#ccc', width: 20, height: 20 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\ticon={faUserTimes}\n\t\t\t\t\t\t\t\t\tsize='lg'\n\t\t\t\t\t\t\t\t\tclassName='clickable'\n\t\t\t\t\t\t\t\t\tonClick={() => (isLogged ? handleBlock() : history.go())}\n\t\t\t\t\t\t\t\t\tstyle={{ color: 'crimson', width: 20, height: 20 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</section>\n\t\t\t\t\t<section className='profile__heeder'>\n\t\t\t\t\t\t<div className='img__wrapper'>\n\t\t\t\t\t\t\t<img src={data.profileImg} alt='tacos' />\n\t\t\t\t\t\t\t<span className={userStatus ? `profile__status online` : `profile__status offline`}></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='profile__fullname'>\n\t\t\t\t\t\t\t{`${capitalizeFirstLetter(data.userName)}, ${data.birthday}`}{' '}\n\t\t\t\t\t\t\t{/**use last seen here if hes of line */}\n\t\t\t\t\t\t\t<span className='profile__lastSeen'>\n\t\t\t\t\t\t\t\t{userStatus ? '' : <Moment fromNow>{data.last_seen}</Moment>}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='profile__fieldset'>\n\t\t\t\t\t\t\t<div className='profile__fieldset--key'>\n\t\t\t\t\t\t\t\t<p>Fullname.</p>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='profile__fieldset--value'>{`${capitalizeFirstLetter(\n\t\t\t\t\t\t\t\tdata.firstName\n\t\t\t\t\t\t\t)} ${capitalizeFirstLetter(data.lastName)}`}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='profile__fieldset'>\n\t\t\t\t\t\t\t<div className='profile__fieldset--key'>\n\t\t\t\t\t\t\t\t<p>Gender.</p>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='profile__fieldset--value'>{capitalizeFirstLetter(data.gender)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='profile__fieldset'>\n\t\t\t\t\t\t\t<div className='profile__fieldset--key'>\n\t\t\t\t\t\t\t\t<p>Interestes.</p>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='profile__fieldset--value'>\n\t\t\t\t\t\t\t\t{capitalizeFirstLetter(data.sexualPreference)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='profile__fieldset'>\n\t\t\t\t\t\t\t<div className='profile__fieldset--key'>\n\t\t\t\t\t\t\t\t<p>Country.</p>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='profile__fieldset--value'>{data.country}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='profile__fieldset'>\n\t\t\t\t\t\t\t<div className='profile__fieldset--key'>\n\t\t\t\t\t\t\t\t<p>Tags.</p>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='profile__fieldset--value'>{data.tags.toString().replace(/,/g, ', ')}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='profile__fieldset'>\n\t\t\t\t\t\t\t<div className='profile__fieldset--key'>\n\t\t\t\t\t\t\t\t<p>Biography.</p>\n\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='profile__fieldset--value'>{data.biography}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t\t<section className='profile__footer'>\n\t\t\t\t\t\t<SimpleSlider\n\t\t\t\t\t\t\tslides={[data.profileImg, data.imgOne, data.imgTwo, data.imgThree, data.imgFour]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</section>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Profile;\n","/Users/ahaloua/Desktop/MatchoPitcho/client/src/helpers/helpers.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/profileRating.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/extra/Slider.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/imgComp.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/browse.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/rangSlider.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/spinner.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/confirm.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateForget.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Inc/auth/resetPass.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/validators/validateResetAcc.js",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/assets/controlledRating.jsx",[],"/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/messages.jsx",["186","187","188","189"],"import React, { useState, useEffect, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\nimport { CSSTransition } from 'react-transition-group';\nimport { AuthContexts, socket } from '../Contexts/authContext';\nimport axios from 'axios';\nimport ScrollableFeed from 'react-scrollable-feed';\n\nasync function getConnectedUsrs(token) {\n\tconst instance = axios.create({\n\t\theaders: { Authorization: `Bearer ${token}` }\n\t});\n\tconst response = await instance.get('http://localhost:5000/getConnectedUsers');\n\treturn response;\n}\n\nasync function sendData(token, values) {\n\tconst instance = axios.create({\n\t\theaders: { Authorization: `Bearer ${token}` }\n\t});\n\tconst response = await instance.post('http://localhost:5000/storeConversations/storeMessage', values);\n\treturn response;\n}\n\nasync function getConversations(token, receiverID) {\n\tconsole.log(receiverID);\n\tconst instance = axios.create({\n\t\theaders: { Authorization: `Bearer ${token}` }\n\t});\n\tconst response = await instance.post('http://localhost:5000/conversations/messages', {\n\t\treceiver: receiverID\n\t});\n\treturn response;\n}\n\nfunction Messanger() {\n\tconst [activeMenu, setActiveMenu] = useState('users');\n\tconst [connectedUsers, setConnectedUsers] = useState([]);\n\tconst [receiver, setReceiver] = useState({ id: null, username: '', avatar: '' });\n\tconst [msgContent, setMsgContent] = useState('');\n\tconst [conversation, setConversation] = useState([]);\n\tconst { auth } = useContext(AuthContexts);\n\tconst { token, socketID, loggedUser, loggedID } = auth;\n\n\tasync function sendMsg(rec, recUser) {\n\t\tconsole.log(rec);\n\t\tif (msgContent.trim() === '') {\n\t\t\tconsole.log('test');\n\t\t} else {\n\t\t\tconsole.log(rec);\n\t\t\tconst value = {\n\t\t\t\treceiver_id: rec,\n\t\t\t\tmessages: msgContent,\n\t\t\t\tsender_id: loggedID,\n\t\t\t\treciverUsername: recUser\n\t\t\t};\n\t\t\tconst valsToback = {\n\t\t\t\treceiver: rec,\n\t\t\t\tmessage: msgContent\n\t\t\t};\n\n\t\t\tsetConversation(conversation?.concat(value));\n\t\t\tsocket.emit('newMsg', value);\n\t\t\tsetMsgContent('');\n\t\t\ttry {\n\t\t\t\tconst res = await sendData(token, valsToback);\n\t\t\t\tconsole.log(res);\n\t\t\t} catch (e) {}\n\t\t}\n\t}\n\tconst handleConversation = ({ target: { value } }) => {\n\t\tsetMsgContent(value);\n\t};\n\n\tasync function handleSelectUser(receiverID) {\n\t\tconst { data } = await getConversations(token, receiverID);\n\t\tif (data.status === 0) {\n\t\t\tconst {\n\t\t\t\tconversation: { messages }\n\t\t\t} = data;\n\t\t\tsetConversation(messages);\n\t\t\tconsole.log(messages);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconsole.log('okey something happend');\n\t\tconst data = async () => {\n\t\t\tconst { data } = await getConnectedUsrs(token);\n\t\t\tconsole.log(data);\n\t\t\tif (data.status === 0) {\n\t\t\t\t// setConnectedUsers(oldVals => [...oldVals, ...data.connectedUsers]);\n\t\t\t\tif (typeof data.connectedUsers !== 'string') {\n\t\t\t\t\tconsole.log(data.connectedUsers);\n\t\t\t\t\tsetConnectedUsers(data.connectedUsers);\n\t\t\t\t}\n\t\t\t\tconsole.log(data.connectedUsers);\n\t\t\t\tconsole.log(data);\n\t\t\t} else {\n\t\t\t\tconsole.log('something Went wrong!');\n\t\t\t}\n\t\t};\n\t\tdata();\n\n\t\t/**\n\t\t *\n\t\t */\n\t\tsocket.on('msgRec', function (data) {\n\t\t\t// if (receiver.id) {\n\t\t\tsetConversation(old => old.concat(data));\n\t\t\t// }\n\t\t\t// console.log(data);\n\t\t});\n\t}, [token]);\n\n\treturn (\n\t\t<div className='chat__container'>\n\t\t\t<div className='chat__box'>\n\t\t\t\t<CSSTransition in={activeMenu === 'users'} unmountOnExit timeout={500} classNames='menu-primary'>\n\t\t\t\t\t<div className='chat__box__users'>\n\t\t\t\t\t\t<div className='chat__box__users__name'>\n\t\t\t\t\t\t\t<h1>Chat</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='chat__box__users__cardWraper'>\n\t\t\t\t\t\t\t{connectedUsers.length !== 0 ? (\n\t\t\t\t\t\t\t\tconnectedUsers.map(({ id, profile_img: avatar, user_name: username }) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName='chat__box__users__card'\n\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetReceiver({ id, username, avatar });\n\t\t\t\t\t\t\t\t\t\t\thandleSelectUser(id);\n\t\t\t\t\t\t\t\t\t\t\tsetActiveMenu('chat');\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<img src={avatar} width='70%' height='70%' />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<h4>{username}</h4>\n\t\t\t\t\t\t\t\t\t\t\t{/**TODO */}\n\t\t\t\t\t\t\t\t\t\t\t{/* <p className='last__msg'>\n\t\t\t\t\t\t\t\t\t\t\tLorem, ipsum dolor sit amet consectetur adipisicing elit. A asperiores\n\t\t\t\t\t\t\t\t\t\t\tconsectetur accusamus sint? Placeat recusandae itaque nisi aliquid\n\t\t\t\t\t\t\t\t\t\t\taccusantium fugit!\n\t\t\t\t\t\t\t\t\t\t</p> */}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>{/* <span>6</span> */}</div>\n\t\t\t\t\t\t\t\t\t\t{/**TODO later :) */}\n\t\t\t\t\t\t\t\t\t\t{/* <span className='time'>30min ago</span> */}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className='no__matches'>there is no matches.</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</CSSTransition>\n\t\t\t\t{receiver.id && (\n\t\t\t\t\t<CSSTransition in={activeMenu === 'chat'} unmountOnExit timeout={500} classNames='menu-secondary'>\n\t\t\t\t\t\t<div className='chat__box__messages'>\n\t\t\t\t\t\t\t<div className='chat__box__messages__card' onClick={() => setActiveMenu('users')}>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<img src={receiver.avatar} width='60px' height='60px' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h4>{receiver.username}</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='chat__box__messages__wraper'>\n\t\t\t\t\t\t\t\t{/* <div > */}\n\t\t\t\t\t\t\t\t<ScrollableFeed className='chat__box__messages__wraper__discussion'>\n\t\t\t\t\t\t\t\t\t{conversation.map((msg, index) => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\tparseInt(msg.sender_id) === receiver.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'chat__box__msg receiver'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'chat__box__msg sender'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<p>{msg.messages}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t// <div className='chat__box__msg reciver'>\n\t\t\t\t\t\t\t\t\t\t// \t<p>{msg.msgcontent}</p>\n\t\t\t\t\t\t\t\t\t\t// </div>\n\t\t\t\t\t\t\t\t\t\t// <div></div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ScrollableFeed>\n\t\t\t\t\t\t\t\t{/* </div> */}\n\t\t\t\t\t\t\t\t<div className='chat__box__messages__wraper__input'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Type Something ...'\n\t\t\t\t\t\t\t\t\t\tonChange={handleConversation}\n\t\t\t\t\t\t\t\t\t\tvalue={msgContent}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faPaperPlane}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendMsg(receiver.id, receiver.username)}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '60%',\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: '60%',\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\t\t\t\t\t\t\t\tleft: '45%',\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: 'translate(-50%, -50%)'\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CSSTransition>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Messanger;\n","/Users/ahaloua/Desktop/MatchoPitcho/client/src/Pages/notifications.jsx",["190"],"import React, { useState, useEffect, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport { AuthContexts } from '../Contexts/authContext';\nimport Moment from 'react-moment';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\n\nasync function getData(token) {\n\tconst instance = axios.create({\n\t\theaders: { Authorization: `Bearer ${token}` }\n\t});\n\tconst response = await instance.get('http://localhost:5000/getNotifications/getUserNotifications');\n\treturn response;\n}\n\nasync function delData(token, notifID) {\n\tconst instance = axios.create({\n\t\theaders: { Authorization: `Bearer ${token}` }\n\t});\n\tconst response = await instance.post('http://localhost:5000/deleteNotifications/deleteUserNotification', {\n\t\tnotificationId: notifID\n\t});\n\treturn response;\n}\n\nexport default function Notifs() {\n\tconst {\n\t\tauth: { token }\n\t} = useContext(AuthContexts);\n\n\tconst [notifications, setNotifications] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tasync function handleDelete(notifID) {\n\t\tconst {\n\t\t\tdata: { status }\n\t\t} = await delData(token, notifID);\n\t\tif (status === 0) {\n\t\t\tsetNotifications(oldVlas => {\n\t\t\t\tconst pos = oldVlas.map(item => item.notifID).indexOf(notifID);\n\t\t\t\treturn oldVlas.filter((item, index) => index !== pos);\n\t\t\t});\n\t\t} else {\n\t\t\tSwal.fire({\n\t\t\t\ttitle: 'NOOOPE!',\n\t\t\t\ttext: 'Something went wrong. Try Again!',\n\t\t\t\ticon: 'error',\n\t\t\t\tconfirmButtonText: 'close'\n\t\t\t});\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\t// http://localhost:5000/getNotifications/getUserNotifications\n\t\t(async () => {\n\t\t\tconst {\n\t\t\t\tdata: { notifications, status }\n\t\t\t} = await getData(token);\n\t\t\tif (status === 0 && notifications.empty === 0) {\n\t\t\t\tsetNotifications(notifications.notifications);\n\t\t\t\t// setNotifications(notifications);\n\t\t\t\tsetIsLoading(false);\n\t\t\t} else {\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\t/**\n\t * please try to standrize the back-ends calls\n\t * for all Actions {handleLike }\n\t */\n\tif (isLoading && notifications.length === 0) return null;\n\t// todo bsita give it some classes :)\n\tif (!isLoading && notifications.length === 0) return <div>hahahah no notification!</div>;\n\treturn (\n\t\t<div className='notifications__container'>\n\t\t\t<div className='notifications__wrapper'>\n\t\t\t\t{notifications.map(({ avatar, from, notifType, notifyAt, notifID }) => (\n\t\t\t\t\t<div className='notification__card' key={notifID}>\n\t\t\t\t\t\t<div className='notification__user__img'>\n\t\t\t\t\t\t\t<img src={avatar} alt='img' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='notification__user__content'>\n\t\t\t\t\t\t\t<div className='notif__user__text'>\n\t\t\t\t\t\t\t\t{`${from} has `}\n\t\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\t\t\tif (notifType === 1) return 'liked your profile!';\n\t\t\t\t\t\t\t\t\tif (notifType === 2) return 'unliked your profile!';\n\t\t\t\t\t\t\t\t\tif (notifType === 3) return 'liked you back!';\n\t\t\t\t\t\t\t\t\tif (notifType === 5) return 'checked your profile!';\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='notif__user__at'>\n\t\t\t\t\t\t\t\t<Moment fromNow>{notifyAt}</Moment>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/**chack if the user is logged or not */}\n\t\t\t\t\t\t<div className='notification__user__delete' onClick={() => handleDelete(notifID)}>\n\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrashAlt} size='lg' />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n",{"ruleId":"191","replacedBy":"192"},{"ruleId":"193","replacedBy":"194"},{"ruleId":"195","severity":1,"message":"196","line":8,"column":32,"nodeType":"197","messageId":"198","endLine":8,"endColumn":42},{"ruleId":"195","severity":1,"message":"199","line":29,"column":9,"nodeType":"197","messageId":"198","endLine":29,"endColumn":17},{"ruleId":"195","severity":1,"message":"200","line":29,"column":19,"nodeType":"197","messageId":"198","endLine":29,"endColumn":30},{"ruleId":"195","severity":1,"message":"201","line":66,"column":12,"nodeType":"197","messageId":"198","endLine":66,"endColumn":15},{"ruleId":"202","severity":1,"message":"203","line":106,"column":5,"nodeType":"204","endLine":106,"endColumn":31,"suggestions":"205"},{"ruleId":"195","severity":1,"message":"206","line":43,"column":17,"nodeType":"197","messageId":"198","endLine":43,"endColumn":25},{"ruleId":"195","severity":1,"message":"207","line":43,"column":27,"nodeType":"197","messageId":"198","endLine":43,"endColumn":37},{"ruleId":"208","severity":1,"message":"209","line":137,"column":12,"nodeType":"210","endLine":137,"endColumn":57},{"ruleId":"208","severity":1,"message":"209","line":164,"column":10,"nodeType":"210","endLine":164,"endColumn":66},{"ruleId":"202","severity":1,"message":"211","line":68,"column":5,"nodeType":"204","endLine":68,"endColumn":7,"suggestions":"212"},"no-native-reassign",["213"],"no-negated-in-lhs",["214"],"no-unused-vars","'IsLoggedfn' is defined but never used.","Identifier","unusedVar","'lastSeen' is assigned a value but never used.","'setLastSeen' is assigned a value but never used.","'res' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loggedUser'. Either include it or remove the dependency array.","ArrayExpression",["215"],"'socketID' is assigned a value but never used.","'loggedUser' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.",["216"],"no-global-assign","no-unsafe-negation",{"desc":"217","fix":"218"},{"desc":"219","fix":"220"},"Update the dependencies array to be: [username, token, history, loggedUser]",{"range":"221","text":"222"},"Update the dependencies array to be: [token]",{"range":"223","text":"224"},[3133,3159],"[username, token, history, loggedUser]",[1929,1931],"[token]"]